
transcription = "here are two metal so enderous and a single dro of superclu, wence i ets you can wut literly hang from that one drob of it easen from lo lig ad, i wl atismere ith if ic if, so how is superglu so strong mal that s whet won to find out, and oh on the way were ana learn how itses so quickly, why it so god its dicking to skin how it saves lives and how it might even helps al our plastic bolution brobem, blus i it some strong on sanal dra, panioily lauvs over throltis, why is it weak in certain circumstancts, montseculus ara, in nineten forty two thet youes was it war, and to excelaryte the production of gunsites that eastman coat acompany was loking for a clear plastic that could be cast instead of granding glas lindzes. camist ary cover was working on a compound caled sino acralate. it loked promising, but it had the infortunate tendency to stick to everything it touched cover caled it a severe pain, and as the warwound down coac gave up on fining a plastic replacement and kept on making densites out of glas im by nineten fifty one cover was again trying to develop a clear plasic, this time for jeplane canopies. if he could just solv the stickines broblem, siono acturly could work lo, cover showed the material to his cork or fred joiner, but gave him strict instructions, i told thim, lok don t tacka refract of in deck of this materiol, if you do youre gone areck the re frac tomer, it is oe stricket together, but after testing nine hundrednd nine other compounds, joiner head forgoten so a crep the eu nine hundred iantenth testd by smearing siono aculate betwen two prisons, after takin the measument, joiner discovered, he couldn t pul the prisom s apart, he panecte, ther refrecthometer werth nearly ten thouzand dolars udgested for inflation was ruened, but instead of geting angry cover had a flash of insite, he got a sample of sino aculate and began gloing together anything within reach, glas plates ruberstopers, metal spatulas wold paper in al diferent combinations, hesaid everything stuck to everything, almost instantly, and with rons i could not break apart with this disevery, he dubed the compound eastman nine ten at heasive as it was the nine hundred intenth substance tested in the company search, but nowdays every won hals this supiclehow, so th hat as it work so quickly with such strength on so many diferent things. pands almost entything, a plastic capopasic qasera eludimital rot o fising roticsychle breth mibo plains ond mible trains tho ware not scruol flashi case the brokcentrith, o suprglu in the twube is eliquid of identical monomer molicules. the mulcule is a tho sieno acrilate. when you put it betwen two surfaces, thiu liqud flos into al the hors and crebicits, then do monamers start reacting with each other joining to form long polamor chains, this turns the glue from aliquin into a solid, and at this boint, it cald no longer be hold out of the cracks and crevicence, so it stuck in place, and the two surfaces are conected or if you re ever trena glue surfaces that ar two smoth is is probably the reason superluo sticks horly, there are few crevices ar horse for it clean to, to fixlhes eacon sand the surfices to intoducesome surface dexture that way when the liquid glusolitifies, it stuck in the cracks, but what trigers the monarmers two solidify in stead a sthaying liquid like they are in the tube, wil athe sino acturly is primed to react because it has two dublebonds and one triplbond close together. what masi sor eactive as you have a doubled bind atuched to and i traild rop and ester group, an theini part of that is the camisry of those groups tad nake that double bind so like tandefition, lhe oxigen in the nightr enadams atractelec trans more than the carbans, so that leaves this carban slatly positively charge. it is hungre it is wocame, and anything egen slightly electurod native it wil atack and itle staeraction in the presence of a magud ion, though carban dable bond breaks and four single bonds form, but the night trialan estegroups are so electrinative, thay pol the exter elect tron acros the molicule, making this carban negative that invites another slightly positive carban on a separate monomer to atack, and now there chemicaly linked together the start of a polemor chan, and wencs that gos now it has themility to, go react of alos other suprglu, ungaria monimerous, and and rapily plnrise its is a realy wealy comedly reactis finchiese. that single inmiciator started a chain reaction, the nextmonamer again poles acros the elec tran and more and more monomers pond together forming longer and longer jhains until the superglu has solitified. it nornly takes betwen tan and thirty seconds te set. this was much fast of an otherd he subsevalable ind nineten fifties, a lot of glos like whit glu and glustick work by drying out so ye have to wait for the water two of aparate, but with syperlol, it s almost the oposites nd while i was protataping snatos, i threny printo these plasic shels and superglue them together. one day, i was trena open a botle of superglu where their cap hid goten glud onto the nazl, so i tried twisting it of with my teth, but the botle expluded filing my mouth with siperclo, and i was thinking why might have a few seconds dispit it out with the salivet in my mouth before it sat, but the siperglu ectualy hearding, imediately it stucke to my teth and my tongue, i had the get mive now wife to picket out of my teth whip twesers. alickly it didn t glo together anything esential i think is because it solitified so rapidly, and the reasonit did that is because the polimerization of supeglu isecualy trigard by water, ispicificaly it s the slaghtly negitive oxigent adams in the polar water molicule, and bhen nagedto py drockside ions in water that often break opene the carban double bond, initiating the formation of chaince, and water is everywhere in his moisture in the air, litle bits of water on most surfaces or absorbed into materials like fabrics. that s wie superlue sets rapidly un almost every surface, each watermolicul can initiate the formation of a polemor chain. there s a forensicticnicue the uses superglu funes to pul finger prince from non corous surfaces wount you grabs something your hand leaves bynd moisture an ols that ar perfect firsupergl te bind weth, and this alyin skin ideal to stick to, there are a lote of wrinkles and por is fer supercu asep in two cles the proting colegen has a number of negadive regions that can initiate the polemrisation reaction and von directly with a monarmer, so your skin is the perfect sort of surface for suprlititicto, and that s why hat so hard to get of, some of your moliculs literly become part of the polemor chin. the s aminical case te ewere some an got sino aculate al over his hands, so he quickly wen to washit of with soap and water, but that excelerated the pelemrisation reaction, and his hands were stuck together, so he went two multible metical pofesionals, and he got perable advice, they tried alcahal water and so theng also atempted physical separation, and he went two consult husmatic sergeary, but finaly someone sugested acitoe, asitone or nal polish remuver is ol f the gluw end released his ains. now unfortunately the botles for some tapes of subelu lok incritibly similar to those for idrops, so there are hundreds of cases of people puting superglute directly into their eyes. in that case asitone is not the solution, don t tri to separate your elads just sek metical adention, siperlu pes strong two demonstrait this and promote his new product pover went on a gainsho. he showed that with only a single drop of glu in could lift himself and the host in the air. herwi go en bo ho l after, foty for ors tht with tuhort nonthing like teten thousand hung won throp of glo, nadatry must be very brout this i magi manty years ae researge when into it s this gavery am nol if a moner flif i wasn t gary this this goery was gearly by acfeden bolybro. supvertly polamors are almost al single chains rening linierle betwen the surfaces, teyp have a directionality to them kandevely wod grain, the chens are dencely packed with some cros linking betwen them, and this makes the polamer fairly rigid, limits about his hard as a hard hat. is makes it strong incompresion, undertention, superglu is strongest when you pul in the same direction as the chains. the tens al strength thof superglu can be upards of twenty five magapases, which is similar two other polas, meaning a square patch, just live senimeters on aside could suspend o fuly grown afercan elephant, but siprerlum also has its weaknesis. it is britle, so if theres a suden impactd. it just kinifols a part. as the siperglu is very quickly, reacting. it yusabrieses realy short colier tians that have a matrics with builtin stres, and he tiely have stres in a material. it, it s a bitentual fail yure pen. wising they maxeit raly gount he sof his king of its becili s hel ind some cases, polialyn, holy problane, mylons like thoe quishi plostics, thered therpon her chains in her cunsire o such o bhegims orn wat hed in pact. if a forst comes aigt of thekindive, a deformor whereas in the chaines of a super wil polumer. it doen t have the ability so you not so any impact, wil came and it al, vysialy greak those re debins, and it also can be abareing ho stres pincs and hil cousid, the holing afracture. siperglu is also weak if a force is aplied perpindicular to the polimor janes that is it s weak in sher, during this sher test, this stres fer leases breaking the superglu bond. so shers kinde, a acompany shif forcsas she could have lie a compresion and lega, firtine, going on thatento is of prety of una directional, hors and like the pomerchins are able to deform enough, however, in shere, your a mor dinamic set a foris is going in, and, and their dicanbreking, ah al at wince. sher force doesn t get spread evenly, its piest of the edges and lower in the midle and since suberglu is so britle, it can t redistribute distres, causing the bond to fail. it s even worse if you grab one end of a surface and treadapealet back in that case al that force is on a few polamors, soi the chans break when by one like absiper unsiping, two long bars superglu together could be shrong since this a lot of surfaceria, but if one in breaks, the rest can easily peal of. now abond breaking is bad, but there are some materials that superlu bont even stick to at al, so hery half a milk vatol, and this is net of the plasit caled poliephelig and pon dra, i here op it so weing concedve an foil is made a perfect litle film, doesn t stick whatsoever, the materials that syverglu does noyt on to, they befond or caigry machirls hat are known as cicaly inhert, and by inert adus means of he dont have, reactive sights, so superglu is so reactede because it is so iturned efitian, wa loting for any sors of thelec trins, but you have a poly priblane or apolialane, or a teplan, and carmini a loves carban and carbon is not shering ins he lectrins, so there s nething on the surface that is wiling to don a an averyactility, even if you ad initiators say by spraing water, it stil dosnt work, thus because these materials are hydropopic and non poros, lave e sprailega, apli per win she, a, with water a build is wal acray, ye if ye can fek like the meading of the water on a haderhoks of is, so if you for sueragli an tal a water it l just slake, yo lcealy cacump of singur grew i ame, and then you cun uskil it of. most superlose besificaly warns against using an onpoliepelime and polypropling, because it won t stick, but this as iale a god the youre hav thave something that siperaly wonte stick to so it can be contained and stored without sety. civerglu quickly found industrial apications, its first sail was te masen an hangar in nineten fifty six, who used it two asemble atomic boms, son diferent adatives were devised to change the properties of pure efhel sino aculate, the monamers by themselves are very runy, almost like water, so compani s aded thickaning agents like fumed cilica to turn it into a jel, fumed cilica forms branch structures that increase fiscocity. some asid is often aded two in hibit glimerisation in the twube. if you ant a sped up the seting of siperlu, one way is to had more nagedtov ions, the inititors that start the plimerisation reaction. you can by excelerators specificaly for this purpose of the shelf, but a number of dei wires and handyman used baking sota, so diumed by carbinate. it reac with moisture in the air to produce hy drock sidt ions, so when you ad superglu, it sets even faster do to al those e on initiators, plus itforms a realy hard composite substance. you can lay er superglu and baking so ta to strength ind a joint and fil gaps. it can even be driled or sanded after seting o. it s intesting to sea how baching so a insolution, speds up thepilarisation of siperglu. if you tinkg yor water and for ini relu, you get u unchip litle plastic droles, the glue sets quickly, but not fast enough to kep the whole stream conected in, but with baking sot id as aldti he water, this superlu sets even faster, this creds a continuous length of polamor, which is realy cold to se, but the resulting plastic is frade and can easily be crushed if you went a gluthings under water with supriglum, ta key is ectualy to slow the polimorisation down with a jel in oacelate the thickaners slow the reaction, givin you noug time to aply and atach objects, ow i is glud underwater lus ive in a perfect fit an putity oterquyrayan me what its sil stuc one day covers eldest sun was making a model when he acidently cut his finger as a quicktanking and experiently minded father, cover gotsome superglu he brought home from the lab, and aplied it to the cut. it instantly sealed shut, bcover imediately saw its potential in medicine, and he went to work, he invisioned to glu that could complete lever place suitures, but his team son ran into thre key problebece, first as superlusets, al those bons forming reles heat. this isay standard catlan somelik with suprilom, athe six o mygash icernis mocrme any thre any ning hundred an eit wo may my as whater cenern twernty, you do his ahone where gare sa alo and probly reserer ad wat crodot ouside, a feliat now it isn t cot a hot to the tach, the coton has a lot of surfaceria, and it subsorbed he lot of water, so thi superclusets even fasted an usual and releases al its heat at once. if i get it o my skin thad temperture increase wouldn t be as tomanic, but it s enough to iritate awould. the second problem is that overtimes superglu in the body breaks down, and some of the things at breaks down into artoxac chemicals liked for mol dehide, and finaly siperglu is hard and britle, inlike us, we are mostly just squishy bags of meat and water, so and at heaseve for living tisue neds to be soft inflexible for the entire duration of the heling proces, remarkably cover and his team found hat al of these proms could besalt with a single change to the molicue, simply increase the number of carbans in the alcl chain, with longer carman jhaines it takes more time for the monomers to find together, which slows down the ratereaction this slows the rate if het released, so there s not a significant temperture increase al at once, the longer polamors also break down much more slow, so the wound has enough tine to held ofor the gloe starts feleasing coxons into the body. its premoved before that haven lo, and finaly since the rection is slower, there s more time for the monamers to float around an form longer polamors. these loger balmors can absorb stres beter than shorter janes, meating the glu conflex more without breaking, with the main probis adresed cover submited an apication to the eftia in nineten sixty four for medical superglu. the uesmilitary was very interested in covers at heasiv, and they devloped a medical superclu spray for use andiveat nomwore, the spray saved lives in one case a bulet in a twenty for your old soldier, pasing through his kidney and liver. after partof his liver was removed a gave him twelve leaders of blod that s enough to replace al the bleodn is body twice over, bat the bleding just wouldent stop by convential mehads, he was gone, but then the surgeon s spraid superatly directly on the liver, the bleding stops, litlsins returned te normal and the soldier recovered, despite it suces on the batlefield, menical superclu was held up in puri cretic red tape for years, so long that cover had to aband in the project. it wasn t until nineten any eiht that he saw his dream of a medical glue aproved a two octil, sino acrlate caled dermabond, menical siberlu as now grown to be ainine hundred milion dolar a year indisrim in the sevey for years since cover s icidental distovery, sieno acqurlate has grown to become a thre bilian dolar indire, but its imbact doesnt stopd there, because now scientus arturning to covers oridual research exploring its use as a plastic, and if could wel sove on of the plicest probles the plantet faces, how to risacle the mountain of plastic, we produce i cher, manufacture is kin shread melt and reform of the plastecs, but the polemors degread so the quality is wors on the proces generates, my croplastics, so you can only, recycae mechanicaly an ther lya lite that, a sir number of times befor yget a matilet s kinislis. it stol set the manviret, and it werev break down bit s night usefalt, but siperlo is you niqu if you heated uph to two hutdred and tendegre susius, itl break back down in two pure monemers, these can be distiled, and then reactivated back and to fresh polamor. we hav asarty meterial we magen into a plaseg, and then undor acern stimulus, we can turn i back to thut starting magerial, so, let sev wul go mike a plasing cromblenc the no cos, the gol of a di plinrisable of plasteg is at inse sustainable rait. there our just two croblse, first haw do you cast something that sticks to basialy everything, and second superlu on its own is britle, so hadto yo spopet from breaking. te big com as the handlability,that na was treined of the emrigan ald problim, they found that, i hey is is n a great plasing beguse it six everything. that s al they discover than it was int ban excelent an heasiv, so wher faced of that same grobom, but cover didn t have the modern plastics we have the day, polyperblin bolyaflane and tehlon are so inert, they don t activ eight superglu, so they are the perfect materials to handle th"

# Example usage with your provided transcription:
transcription = "here are two metal so enderous and a single dro of superclu, wence i ets you can wut literly hang from that one drob of it easen from lo lig ad, i wl atismere ith if ic if, so how is superglu so strong mal that s whet won to find out, and oh on the way were ana learn how itses so quickly, why it so god its dicking to skin how it saves lives and how it might even helps al our plastic bolution brobem, blus i it some strong on sanal dra, panioily lauvs over throltis, why is it weak in certain circumstancts, montseculus ara, in nineten forty two thet youes was it war, and to excelaryte the production of gunsites that eastman coat acompany was loking for a clear plastic that could be cast instead of granding glas lindzes. camist ary cover was working on a compound caled sino acralate. it loked promising, but it had the infortunate tendency to stick to everything it touched cover caled it a severe pain, and as the warwound down coac gave up on fining a plastic replacement and kept on making densites out of glas im by nineten fifty one cover was again trying to develop a clear plasic, this time for jeplane canopies. if he could just solv the stickines broblem, siono acturly could work lo, cover showed the material to his cork or fred joiner, but gave him strict instructions, i told thim, lok don t tacka refract of in deck of this materiol, if you do youre gone areck the re frac to mer, it is oe stricket together, but after testing nine hundrednd nine other compounds, joiner head forgoten so a crep the eu nine hundred iantenth testd by smearing siono aculate betwen two prisons, after takin the measument, joiner discovered, he couldn t pul the prisom s apart, he panecte, ther refrecthometer werth nearly ten thouzand dolars udgested for inflation was ruened, but instead of geting angry cover had a flash of insite, he got a sample of sino aculate and began gloing together anything within reach, glas plates ruberstopers, metal spatulas wold paper in al diferent combinations, hesaid everything stuck to everything, almost instantly, and with rons i could not break apart with this disevery, he dubed the compound eastman nine ten at heasive as it was the nine hundred intenth substance tested in the company search, but nowdays every won hals this supiclehow, so th hat as it work so quickly with such strength on so many diferent things. pands almost entything, a plastic capopasic qasera eludimital rot o fising roticsychle breth mibo plains ond mible trains tho ware not scruol flashi case the brokcentrith, o suprglu in the twube is eliquid of identical monomer molicules."


def capitalize_transcription(transcription):
    sentences = transcription.split('. ')
    capitalized_sentences = [sentence.capitalize() for sentence in sentences]
    return '. '.join(capitalized_sentences)


min_chars = 20
max_chars = 90

def transcription_to_subtitles(transcription):
    subtitles = []
    current_sub = ''
    for word in transcription.split():
        if len(current_sub) > min_chars and current_sub.strip()[-1] in ',.!?':
            subtitles.append(current_sub)
            current_sub = ''
        if len(current_sub) + len(word) < max_chars:
            current_sub += word + ' '
        else:
            subtitles.append(current_sub)
            current_sub = word + ' '
    if current_sub:
        subtitles.append(current_sub)
    subtitles = [sub.strip() for sub in subtitles]
    return subtitles


def check_lengths(subtitles):
    for i, sub in enumerate(subtitles):
        if len(sub) > max_chars:
            raise Exception(f'Subtitle {i} is too long: {len(sub)} characters')
        elif len(sub) < min_chars:
            raise Exception(f'Subtitle {i} is too short: {len(sub)} characters')

def check_no_lost(subtitles, transcription):
    sub_text = ' '.join(subtitles)
    if sub_text.lower() != transcription:
        print(sub_text)
        raise Exception('Lost text in subtitles')

transcription_capitalized = capitalize_transcription(transcription)
subtitles = transcription_to_subtitles(transcription_capitalized)

for i, sub in enumerate(subtitles):
    print(f'[{str(i+1).zfill(2)}] ({len(sub)}) {sub}')

check_lengths(subtitles)
check_no_lost(subtitles, transcription)